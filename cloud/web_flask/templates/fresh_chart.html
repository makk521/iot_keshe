<div width="100px" height="100px">
    <canvas id="myChart" width="50px" height="50px"></canvas>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
  <script>
    const ctx = document.getElementById('myChart');
    let newArray = []
    for (var i=0;i<6;i++)
    { 
        newArray.push(Math.floor(Math.random()*10))
    }
    
    const myChart = new Chart(ctx, {
    type: "line",
    data: {
      datasets: [{ label: "Temperature",  }],
    },
    options: {
      borderWidth: 3,
      borderColor: ['rgba(255, 99, 132, 1)',],
    },
  });

    function addData(label, data) {
        myChart.data.labels.push(label);
        myChart.data.datasets.forEach((dataset) => {
        dataset.data.push(data);
        });
        myChart.update();
    }

    function removeFirstData() {
        myChart.data.labels.splice(0, 1);
        myChart.data.datasets.forEach((dataset) => {
        dataset.data.shift();
        });
    }
    const MAX_DATA_COUNT = 10;

//     function test(){
//         removeFirstData()
//  }
//     setInterval(test, 1000);


    function myFunction()
{
    if (myChart.data.labels.length > MAX_DATA_COUNT) {
      removeFirstData();
    }
    setTimeout(function(){addData('2022', Math.floor(Math.random()*10))},3000);

}

    setInterval(myFunction, 3000);

  </script>