<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<title>Your Page Title</title>

		<link href="//mincss.com/entireframework.min.css" rel="stylesheet" type="text/css">

		<style>
			.hero {
				background: #eee;
				padding: 20px;
				border-radius: 10px;
				margin-top: 1em;
			}

			.hero h1 {
				margin-top: 0;
				margin-bottom: 0.3em;
			}

			.c4 {
				padding: 10px;
				box-sizing: border-box;
			}

			.c4 h3 {
				margin-top: 0;
			}

			.c4 a {
				margin-top: 10px;
				display: inline-block;
			}
		</style>
	</head>
	<body>
		<nav class="nav" tabindex="-1" onclick="this.focus()">
			<div class="container">
				<a class="pagename current" href="index">主页面</a>
				<a href="control">控制界面</a>
				<a href="message">监测界面</a> 
				
			</div>
		</nav>
		<button class="btn-close btn btn-sm">×</button>
		<div class="container">
			<div class="hero">
				<h1>LED的当前状态:</h1>
                <!-- <p style="font-size: 30px;">{{led_status}}</p> -->
				<div style="width: 400px;">
					<canvas id="myChart" ></canvas>
				</div>
			</div>
		</div>

		<div class="container">
			<div class="hero">
				<h1>上此LED灯亮时间:</h1>
				<p style="font-size: 30px;">{{led_on_time}}</p>
			</div>
		</div>
			<!-- <div class="row"> -->
    <!-- <div class="col c4"><h3>Yay headings!</h3>You can view the source of this page and copy it to get a quick start on a project with Min!<br><a href="http://owenversteeg.com" class="btn btn-sm btn-a">Do stuff!</a></div> -->
        <!-- <div class="col c4"><h3>Yay headings!</h3>You can view the source of this page and copy it to get a quick start on a project with Min!<br><a href="http://owenversteeg.com" class="btn btn-sm btn-b">Do stuff!</a></div>    <div class="col c4"><h3>Yay headings!</h3>You can view the source of this page and copy it to get a quick start on a project with Min!<br><a href="http://owenversteeg.com" class="btn btn-sm btn-c">Do stuff!</a></div> -->
<!-- </div> -->
		</div>
	</body>
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
	<script>
	  const ctx = document.getElementById('myChart');
	  let newArray = []
	  for (var i=0;i<6;i++)
	  { 
		  newArray.push(Math.floor(Math.random()*10))
	  }
	  
	  const myChart = new Chart(ctx, {
	  type: "line",
	  data: {
		datasets: [{ label: "Temperature",  }],
	  },
	  options: {
		borderWidth: 3,
		borderColor: ['rgba(255, 99, 132, 1)',],
	  },
	});
  
	  function addData(label, data) {
		  myChart.data.labels.push(label);
		  myChart.data.datasets.forEach((dataset) => {
		  dataset.data.push(data);
		  });
		  myChart.update();
	  }
  
	  function removeFirstData() {
		  myChart.data.labels.splice(0, 1);
		  myChart.data.datasets.forEach((dataset) => {
		  dataset.data.shift();
		  });
	  }
	  const MAX_DATA_COUNT = 10;
  
  //     function test(){
  //         removeFirstData()
  //  }
  //     setInterval(test, 1000);
  
  
	  function myFunction()
  {
	  if (myChart.data.labels.length > MAX_DATA_COUNT) {
		removeFirstData();
	  }
	  setTimeout(function(){addData('2022', Math.floor(Math.random()*10))},3000);
  
  }
  
	  setInterval(myFunction, 3000);
  
	</script>
</html>








